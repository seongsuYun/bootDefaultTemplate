/*
This software is allowed to use under GPL or you need to obtain Commercial or Enterise License
to use it in non-GPL project. Please contact sales@dhtmlx.com for details
*/
(function(){scheduler.config.container_autoresize=!0;scheduler.config.month_day_min_height=90;var p=scheduler._pre_render_events;scheduler._pre_render_events=function(c,i){if(!scheduler.config.container_autoresize)return p.apply(this,arguments);var g=this.xy.bar_height,q=this._colsS.heights,a=this._colsS.heights=[0,0,0,0,0,0,0],b=this._els.dhx_cal_data[0],c=this._table_view?this._pre_render_events_table(c,i):this._pre_render_events_line(c,i);if(this._table_view)if(i)this._colsS.heights=q;else{var e=
b.firstChild;if(e.rows){for(var d=0;d<e.rows.length;d++){a[d]++;if(a[d]*g>this._colsS.height-22){for(var h=e.rows[d].cells,j=0;j<h.length;j++)h[j].childNodes[1].style.height=a[d]*g+"px";a[d]=(a[d-1]||0)+h[0].offsetHeight}a[d]=(a[d-1]||0)+e.rows[d].cells[0].offsetHeight}a.unshift(0)}else if(!c.length&&this._els.dhx_multi_day[0].style.visibility=="visible"&&(a[0]=-1),c.length||a[0]==-1){var f=e.parentNode.childNodes,m=(a[0]+1)*g+1+"px";b.style.top=this._els.dhx_cal_navline[0].offsetHeight+this._els.dhx_cal_header[0].offsetHeight+
parseInt(m,10)+"px";b.style.height=this._obj.offsetHeight-parseInt(b.style.top,10)-(this.xy.margin_top||0)+"px";var k=this._els.dhx_multi_day[0];k.style.height=m;k.style.visibility=a[0]==-1?"hidden":"visible";k=this._els.dhx_multi_day[1];k.style.height=m;k.style.visibility=a[0]==-1?"hidden":"visible";k.className=a[0]?"dhx_multi_day_icon":"dhx_multi_day_icon_small";this._dy_shift=(a[0]+1)*g;a[0]=0}}return c};var n=["dhx_cal_navline","dhx_cal_header","dhx_multi_day","dhx_cal_data"],o=function(c){for(var i=
0,g=0;g<n.length;g++){var f=n[g],a=scheduler._els[f]?scheduler._els[f][0]:null,b=0;switch(f){case "dhx_cal_navline":case "dhx_cal_header":b=parseInt(a.style.height,10);break;case "dhx_multi_day":b=a?a.offsetHeight:0;b==1&&(b=0);break;case "dhx_cal_data":var b=Math.max(a.offsetHeight-1,a.scrollHeight),e=scheduler.getState().mode;if(e=="month"){if(scheduler.config.month_day_min_height&&!c)var d=a.getElementsByTagName("tr").length,b=d*scheduler.config.month_day_min_height;if(c)a.style.height=b+"px"}if(scheduler.matrix&&
scheduler.matrix[e])if(c)b+=2,a.style.height=b+"px";else for(var b=2,h=scheduler.matrix[e],j=h.y_unit,l=0;l<j.length;l++)b+=!j[l].children?h.dy:h.folder_dy||h.dy;if(e=="day"||e=="week")b+=2}i+=b}scheduler._obj.style.height=i+"px";c||scheduler.updateView()},f=function(){var c=scheduler.getState().mode;o();(scheduler.matrix&&scheduler.matrix[c]||c=="month")&&window.setTimeout(function(){o(!0)},1)};scheduler.attachEvent("onViewChange",f);scheduler.attachEvent("onXLE",f);scheduler.attachEvent("onEventChanged",
f);scheduler.attachEvent("onAfterSchedulerResize",f)})();
